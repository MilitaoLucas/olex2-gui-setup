<!-- FIRST ROW: Name of Image -->
<!-- #include tool-row gui\blocks\tool-row.htm;name='IMAGE_SETTINGS_ROW_4';1 -->
  <td name=IMAGE_BITMAP_NAME width='35%' align='right'>
    <font size="$GetVar('HtmlFontSizeMedium')" color="#555555">
    <input
      type="text"
      bgcolor="GetVar('HtmlInputBgColour')"
      valign='left'
      name="IMAGE_NAME"
      width="100%"
      height="math.eval(GetVar('HtmlInputHeight')*1.3)"
      value="spy.GetParam('snum.image.name', spy.ModelSrc())"
      onchange="spy.SetParam('snum.image.name',html.GetValue('~name~'))"
    >
    </font>
  </td>

  <td width='20%' align='right'>
     If <b>NAME</b> exists
  </td>

  <td width="17%" align='left'>
    <font size='$GetVar(HtmlFontSizeControls)'>
    <input name="IMAGE_SETTINGS_AUTOINCREMENT_NAME"
       type="combo"
       height="GetVar('HtmlComboHeight')"
       width="100%"
       bgcolor="GetVar('HtmlInputBgColour')"
       value="spy.GetParam('snum.image.if_file_exists')"
       items="'ask;increment;replace'"
       onchange="spy.SetParam('snum.image.if_file_exists', html.GetValue('~name~'))"
       readonly="True"
      >
    </font>
  </td>

  <td width='10%' align='right'>
     Default
  </td>


  <td width="10%">
    <font size='$GetVar(HtmlFontSizeControls)'>
    <input name="IMAGE_TYPE"
       type="combo"
       height="GetVar('HtmlComboHeight')"
       width="100%"
       bgcolor="GetVar('HtmlInputBgColour')"
       value="spy.GetParam('user.image.img_type')"
       items="bitmap;postscript;povray"
       onchange="spy.SetParam('user.image.img_type', html.GetValue('~name~'))"
       readonly="True"
      >
    </font>
  </td>

<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- SECOND ROW: Deal with labels-->

<!-- #include tool-row-help gui\blocks\tool-row-help.htm;name='LABEL_SETTINGS';help_ext=Images;1 -->
  <td name=HREF_MAKE_LABEL width='10%' align='left'>
    <b>Label:</b>

    $+
    html.Snippet(GetVar(default_link),
    "value=selected",
    "onclick=label -a -type=spy.GetParam('user.image.label_symm_type') -symm=spy.GetParam('user.image.label_symm') -resi=_#",
    )$-

    $+
    html.Snippet(GetVar(default_link),
    "value=non-H",
    "onclick=label -a \$*-H,Q -type=spy.GetParam('user.image.label_symm_type') -symm=spy.GetParam('user.image.label_symm') -resi=_#",
    )$-

    $+
    html.Snippet(GetVar(default_link),
    "value=hetero",
    "onclick=label -a \$*-H,Q,C -type=spy.GetParam('user.image.label_symm_type') -symm=spy.GetParam('user.image.label_symm') -resi=_#",
    )$-

  <td width='20%' align='right'>Symmetry label </td>

  <td name=IMAGE_SETTINGS_LABEL_SYMM width='12%'>
    <font size="$GetVar('HtmlFontSizeControls')">
    <input
      type="combo"
      height="GetVar('HtmlComboHeight')"
      width="100%"
      bgcolor="GetVar('HtmlInputBgColour')"
      items="'none;$;#;X;full'"
      valign='center'
      name="IMAGE_SETTINGS_LABEL_SYMM"
      value='$spy.GetParam(user.image.label_symm)'
      manage
      readonly
      onchange="spy.SetParam('user.image.label_symm',html.GetValue('~name~'))"
    >
    </font>
  </td>

  <td width='10%' align='right'>%Style%</td>

  <td name=IMAGE_SETTINGS_LABEL_TYPE width='12%' align='right'>
    <font size="$GetVar('HtmlFontSizeControls')">
    <input
      type="combo"
      height="GetVar('HtmlComboHeight')"
      width="100%"
      bgcolor="GetVar('HtmlInputBgColour')"
      items="'default;subscript;brackets'"
      valign='center'
      name="IMAGE_SETTINGS_LABEL_SYMM_TYPE"
      value='$spy.GetParam(user.image.label_symm_type)'
      manage
      readonly
      onchange="spy.SetParam('user.image.label_symm_type',html.GetValue('~name~'))"
    >
    </font>
  </td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- #include tool-row gui\blocks\tool-row.htm;name='IMAGE_SETTINGS_ROW_2';1 -->
  <td name=LABEL_INSTRUCTIONS_3>
     <a href="kill labels"><b>DELETE all labels</b></a> |
     <a href="SetMaterial 'PLabels.Text' ChooseMaterial(GetMaterial('PLabels.Text'))">%images_label_colour%</a> |
     <a href="SetMaterial 'PLabels.Plane' ChooseMaterial(GetMaterial('PLabels.Plane'))">%images_label_box%</a>
  </td>
<!-- #include row_table_off gui\blocks\row_table_off.htm;1; -->

<!-- #include align-and-lock gui\tools\align-and-lock.htm;name='ALIGN_AND_LOCK';1 -->
