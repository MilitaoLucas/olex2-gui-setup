#############################################################
# The DIAGNOSTICS section. This part is currently under development #
# Expect frequent changes!                                  #
#############################################################

diagnostics {
  debug = False
    .type = bool
  scale = 2
    .type = int
    
  refinement{
    max_shift_site{
      op = "smaller"
        .type = str
      value_format= "3f"
        .type = str
      grade1  = 0.001
        .type = float
      grade2 = 0.005
        .type = float
      grade3 = 0.010
        .type = float
      grade4 = 0.015
        .type = float
      top = 0.15
        .type = float
      display = "Max Shift"
        .type = str
      href = atom
        .type = str
    }

    _refine_ls_shift_over_su_max {
      op = "smaller"
        .type = str
      value_format= "3f"
        .type = str
      grade1  = 0.001
        .type = float
      grade2 = 0.005
        .type = float
      grade3 = 0.010
        .type = float
      grade4 = 0.015
        .type = float
      top = 0.15
        .type = float
      display = "Max Shift/esd"
        .type = str
      href = None
        .type = str
    }


    max_shift_u{
      op = "smaller"
        .type = str
      value_format= "3f"
        .type = str
      grade1  = 0.001
        .type = float
      grade2 = 0.005
        .type = float
      grade3 = 0.010
        .type = float
      grade4 = 0.015
        .type = float
      top = 0.15
        .type = float
      display = "Max dU"
        .type = str
      href = atom
        .type = str
    }

    max_peak{
      op = "smaller"
        .type = str
      display = "Max Peak"
        .type = str
      value_format= "1f"
        .type = str
      grade1  = 0.51
        .type = float
      grade2 = 1.01
        .type = float
      grade3 = 2.01
        .type = float
      grade4 = 3.01
        .type = float
      top = 5
        .type = float
      href = sel Q1
        .type = str      
    }
    _refine_diff_density_max{
      op = "smaller"
        .type = str
      display = "Max Peak"
        .type = str
      value_format= "1f"
        .type = str
      grade1  = 0.51
        .type = float
      grade2 = 1.01
        .type = float
      grade3 = 2.01
        .type = float
      grade4 = 3.01
        .type = float
      top = 5
        .type = float
      href = None
        .type = str
    }
    max_hole{
      op = "greater"
        .type = str
      display = "Min Peak"
        .type = str
      value_format= "1f"
        .type = str
      grade1  = -0.51
        .type = float
      grade2 = -1.01
        .type = float
      grade3 = -2.01
        .type = float
      grade4 = -3.01
        .type = float
      top = -5
        .type = float
      href = echo "Please add PLAN -n to your ins file first"
        .type = str      
    }
    _refine_diff_density_min{
      op = "greater"
        .type = str
      display = "Min Peak"
        .type = str
      value_format= "1f"
        .type = str
      grade1  = -0.51
        .type = float
      grade2 = -1.01
        .type = float
      grade3 = -2.01
        .type = float
      grade4 = -3.01
        .type = float
      top = -5
        .type = float
      href = None
        .type = str
    }
    goof{
      op = "between"
        .type = str
      display = "GooF"
        .type = str
      value_format= "1f"
        .type = str
      soll = 1.0
        .type = float
      grade1  = 0.1
        .type = float
      grade2 =  0.2
        .type = float
      grade3 =  0.3
        .type = float
      grade4 =  0.5
        .type = float
      top = 0.5
        .type = float
      href = echo Fred
        .type = str
    }
    expected_peaks{
      op = "smaller"
        .type = str
      display = "Missing"
        .type = str
      value_format= "0f"
        .type = str
      grade1  = 0
        .type = int
      grade2 =  1
        .type = int
      grade3 =  2
        .type = int
      grade4 = 5
        .type = int
      top = 10
        .type = int
      href = echo Fred
        .type = str
    }
  }
    
  hkl{
    MaxD{
      value_format= "2f"
        .type = str
      display = "d max"
        .type = str
    }  
    MinD{
      value_format= "2f"
        .type = str
      display = "d min"
        .type = str
    }  
  
    MeanIOverSigma{
      op = "greater"
        .type = str
      display = "Mean I/&sigma;"
        .type = str
      value_format= "1f"
        .type = str
      grade1  = 20
        .type = float
      grade2 = 15
        .type = float
      grade3 = 10
        .type = float
      grade4 = 5
        .type = float
      top = 25
        .type = float
      href = ""
        .type = str
    }
    Rint{
      op = "smaller"
        .type = str
      display = "R<sub>int</sub>"
        .type = str
      value_format= "2%"
        .type = str
      grade1  = 0.04
        .type = float
      grade2 = 0.06
        .type = float
      grade3 = 0.10
        .type = float
      grade4 = 0.15
        .type = float
      top = 0.15
        .type = float
      href = ""
        .type = str
    }
    Completeness{
      op = "greater"
        .type = str
      display = "complete"
        .type = str
      value_format= "0%"
        .type = str
      grade1  = 0.99
        .type = float
      grade2 = 0.95
        .type = float
      grade3 = 0.90
        .type = float
      grade4 = 0.80
        .type = float
      top = 0.15
        .type = float
      href = completeness
        .type = str
    }
  }
}
